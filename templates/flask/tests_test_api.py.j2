#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
API测试模块

这个模块包含API端点的测试。
"""

import json
import pytest


def test_health_check(client):
    """测试健康检查端点"""
    # 发送请求
    response = client.get('/api/v1/health')
    data = json.loads(response.data)
    
    # 验证响应
    assert response.status_code == 200
    assert data['status'] == 'ok'


def test_api_info(client):
    """测试API信息端点"""
    # 发送请求
    response = client.get('/api/v1/info')
    data = json.loads(response.data)
    
    # 验证响应
    assert response.status_code == 200
    assert 'version' in data
    assert 'name' in data